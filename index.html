<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div>
        <a href="./index.html">Home</a>
        <a href="./search.html">Search</a>
    </div>
    <br>
    <select id="select">
        <option value="micro">micro</option>
        <option value="nano">nano</option>
        <option value="regional">regional</option>
        <option value="brewpub">brewpub</option>
        <option value="large">large</option>
        <option value="planning">planning</option>
        <option value="bar">bar</option>
        <option value="contract">contract</option>
        <option value="proprietor">proprietor</option>
        <option value="closed">closed</option>
    </select>
    <div id="container">
        <table>
            <thead>
                <tr>
                    <th>
                        Name
                    </th>
                    <th>
                        brewery_type
                    </th>
                    <th>
                        city
                    </th>
                    <th>
                        state
                    </th>
                    <th>
                        MORE DETAILS
                    </th>
                    <th>
                        page
                    </th>
                </tr>
            </thead>
        <tbody id="tablebody">
    
    
        </tbody>
        </table>
       </div>

</body>
<script>
    var cartz=JSON.parse(localStorage.getItem('id_name')) || [];
    async function abc(){
 
 let uri=`https://api.openbrewerydb.org/breweries`;
 var res=await fetch(uri).then((response)=>{
     return response.json();
 }).then((data)=>{
    // console.log(data);
    document.querySelector('tbody').innerHTML='';
    data.forEach(ele=>{
    var row=document.createElement('tr');

           var td1=document.createElement('td');
           td1.innerText=ele.name;

           var td2=document.createElement('td');
           td2.innerText=ele.brewery_type;

           var td3=document.createElement('td');
           td3.innerText=ele.city;
           var td4=document.createElement('td');
           td4.innerText=ele.state;
           var td5=document.createElement('td');
           var a=document.createElement('button');

           a.innerText='more';
           a.style.color='blue';
           td5.append(a);
           var td6=document.createElement('td');
           var b=document.createElement('button');
           b.innerText='page';
           b.style.color='blue';
           td6.append(b);
           a.addEventListener('click',function(){
   
   cartz.push(ele.id);
   localStorage.setItem('id_name',JSON.stringify(cartz));
   alert('added successfully')
});

           row.append(td1,td2,td3,td4,td5,td6);
           document.querySelector('#tablebody').append(row);
    })
 })
 }
 
    abc()
 
</script>
</html>
